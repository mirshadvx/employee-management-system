{% extends "dashboard.html" %}

{% block dashboard_content %}
<div class="flex flex-col md:flex-row gap-4 items-center justify-between mb-6">
    <div class="flex items-center gap-2">
        <span></span>
        <input type="text" placeholder="Search departments..." class="px-3 py-2 border border-[#8FA68E]/30 rounded-md focus:outline-none focus:ring-2 focus:ring-[#8FA68E] bg-white min-w-[250px]"/>
    </div>
    <div class="flex items-center gap-4">
        <div class="text-[#3C4142] font-semibold">Total Departments: {{ departments|length }}</div>
        <a href="{% url 'department_create' %}" class="flex items-center gap-2 px-6 py-2 bg-[#8FA68E] text-white rounded-full hover:bg-[#3C4142] transition-all duration-300 shadow-md hover:shadow-lg font-semibold">
            <span>+</span> Create Department
        </a>
    </div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for dept in departments %}
    <div class="bg-white border border-[#8FA68E]/20 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-4">
            <div>
                <h3 class="text-lg font-bold text-[#3C4142]">{{ dept.name }}</h3>
                <p class="text-sm text-gray-600">{{ dept.label }}</p>
            </div>
            <div class="flex items-center gap-2">
                <a href="{% url 'department_edit' dept.id %}" title="Edit" class="text-[#8FA68E] hover:text-[#3C4142] transition-colors">
                    <span>Edit</span>
                </a>
                <a href="{% url 'department_delete' dept.id %}" title="Delete" class="text-red-500 hover:text-red-700 transition-colors">
                    <span>Delete</span>
                </a>
            </div>
        </div>
        <div class="space-y-3">
            <div class="flex justify-between items-center">
                <span class="text-[#3C4142] font-medium">Total Employees:</span>
                <span class="text-[#8FA68E] font-bold text-lg">{{ dept.total_employees }}</span>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="text-center py-12 col-span-3">
        <p class="text-[#8FA68E] text-lg">No departments found matching your search.</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
